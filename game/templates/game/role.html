<!DOCTYPE html>
<html>
<head>
    <title>게임 시작 - 역할 확인</title>
    <style>
        #player-list td {
            padding: 0em 0.2em;
        }

        .responsive-image {
            width: 100%;
            height: auto;
            padding-left: 5%;
            padding-right: 5%;
            box-sizing: border-box;
        }
    </style>
</head>
<body>
    <h1>게임 시작! - 세션 ID: {{ game_session.session_id }}</h1>
    <p><strong>플레이어:</strong> {{ player_nickname }}</p>

    <h2>게임 옵션</h2>
    <ul id="selected-options">
        {% if game_session.option1 %}
            <li>옵션 1: 활성화됨</li>
        {% endif %}
        {% if game_session.option2 %}
            <li>옵션 2: 활성화됨</li>
        {% endif %}
        {% if game_session.option3 %}
            <li>옵션 3: 활성화됨</li>
        {% endif %}
        {# 만약 선택된 옵션이 하나도 없다면 표시할 메시지 #}
        {% if not game_session.option1 and not game_session.option2 and not game_session.option3 %}
            <li>선택된 게임 옵션이 없습니다.</li>
        {% endif %}
    </ul>

    <h2>현재 참여 중인 플레이어</h2>
    <table id="player-list">
        <tbody>
            {% for player in players_in_session %}
                <tr><td>{{ player.nickname }}</td></tr>
            {% endfor %}
        </tbody>
    </table>

    <img src="{{ player.role_image }}" alt="{{ player.role }}" class="responsive-image">
    <h3> {{ player.role_intro }} </h3>
    <p> {{ role_detail }} </p>

    {% if player_nickname == game_session.host_nickname %}
        <form id="end-game-form" method="post" action="{% url 'end_game' game_session.session_id %}">
            {% csrf_token %}
            <input type="hidden" name="nickname" value="{{ player_nickname }}">
            <input type="hidden" name="pin" value="{{ player_pin }}">
            <button type="submit" onclick="return confirm('정말로 게임을 종료하시겠습니까?');">게임 종료</button>
        </form>
    {% endif %}

</body>
</html>